!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.wavesBasicControllers=e()}}(function(){return function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){"use strict";var n=(e("./dist/utils/styles"),e("./dist/base-controller")),i={Title:e("./dist/title"),Buttons:e("./dist/buttons"),Toggle:e("./dist/toggle"),Slider:e("./dist/slider"),Breakpoint:e("./dist/breakpoint"),setTheme:function(e){n.theme=e}};t.exports=i},{"./dist/base-controller":2,"./dist/breakpoint":3,"./dist/buttons":4,"./dist/slider":6,"./dist/title":7,"./dist/toggle":8,"./dist/utils/styles":9}],2:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/inherits")["default"],i=e("babel-runtime/helpers/get")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/core-js/set")["default"],l=e("events"),u=e("./utils/styles"),c=new a,h=void 0;window.addEventListener("resize",function(){c.forEach(function(e){return e.onResize()})});var f=function(e){function t(){o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),0===c.size&&u.insertStyleSheet(),c.add(this)}return n(t,e),s(t,[{key:"_applyOptionnalParameters",value:function(){var e=this,t=void 0===arguments[0]?null:arguments[0],r=void 0===arguments[1]?null:arguments[1];t&&("string"==typeof t&&(t=document.querySelector(t)),t.appendChild(this.render()),setTimeout(function(){return e.onResize()},0)),r&&this.on("change",r)}},{key:"render",value:function(){return this.$el=document.createElement("label"),this.$el.classList.add(u.ns,h),this.$el}},{key:"onResize",value:function(){var e=this.$el.getBoundingClientRect(),t=e.width,r=t>600?"remove":"add";this.$el.classList[r]("small")}},{key:"bindEvents",value:function(){}}],[{key:"theme",set:function(e){c.forEach(function(e){return e.$el.classList.remove(h)}),h=e,c.forEach(function(e){return e.$el.classList.add(h)})},get:function(){return h}}]),t}(l.EventEmitter);f.theme="light",t.exports=f},{"./utils/styles":9,"babel-runtime/core-js/set":21,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,events:137}],3:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/inherits")["default"],i=e("babel-runtime/helpers/get")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("waves-ui/dist/core/timeline"),l=e("waves-ui/dist/core/layer"),u=e("waves-ui/dist/core/layer-time-context"),c=e("waves-ui/dist/shapes/line"),h=e("waves-ui/dist/shapes/dot"),f=e("waves-ui/dist/behaviors/breakpoint-behavior"),d=e("waves-ui/dist/states/base-state"),p=e("./base-controller"),m=function(e){function t(e){o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.currentEditedLayer=null,this.currentTarget=null}return n(t,e),s(t,[{key:"enter",value:function(){}},{key:"exit",value:function(){}},{key:"handleEvent",value:function(e){switch(e.type){case"mousedown":this.onMouseDown(e);break;case"mousemove":this.onMouseMove(e);break;case"mouseup":this.onMouseUp(e)}}},{key:"onMouseDown",value:function(e){var t=this;this.mouseDown=!0,this.currentTarget=e.target,this.layers.forEach(function(r){r.unselect();var n=r.getItemFromDOMElement(e.target);if(null===n){var i=[e.x/t.timeline.visibleWidth,1-e.y/r.params.height];r.data.push(i),t.timeline.tracks.render(),t.timeline.tracks.update()}else if(e.originalEvent.shiftKey){var s=r.data,i=r.getDatumFromItem(n);s.splice(s.indexOf(i),1),t.timeline.tracks.render(),t.timeline.tracks.update()}else t.currentEditedLayer=r,r.select(n)})}},{key:"onMouseMove",value:function(e){var t=this;if(this.mouseDown&&this.currentEditedLayer){var r=this.currentEditedLayer,n=r.selectedItems;n.forEach(function(n){r.edit(n,e.dx,e.dy,t.currentTarget)}),r.update(n)}}},{key:"onMouseUp",value:function(e){this.currentEditedLayer=null,this.mouseDown=!1}}]),t}(d),b=function(e){function t(e){var r=void 0===arguments[1]?[]:arguments[1],n=void 0===arguments[2]?null:arguments[2],s=void 0===arguments[3]?null:arguments[3];o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.type="breakpoint",this.legend=e,this.dots=r,i(Object.getPrototypeOf(t.prototype),"_applyOptionnalParameters",this).call(this,n,s)}return n(t,e),s(t,[{key:"render",value:function(){var e='\n      <span class="legend">'+this.legend+'</span>\n      <div class="inner-wrapper timeline"></div>\n    ';this.$el=i(Object.getPrototypeOf(t.prototype),"render",this).call(this),this.$el.classList.add(this.type),this.$el.innerHTML=e,this.$timeline=this.$el.querySelector(".timeline"),this.timeline=new a;var r=(this.timeline.createTrack(this.$timeline,300,"main"),new u(this.timeline.timeContext));this.breakpointLayer=new l("collection",this.dots,{height:300}),this.breakpointLayer.setTimeContext(r);var n=function(e){var t=void 0===arguments[1]?null:arguments[1];return null!==t&&(e[0]=t),e[0]},s=function(e){var t=void 0===arguments[1]?null:arguments[1];return null!==t&&(e[1]=t),e[1]};return this.breakpointLayer.configureShape(h,{color:function(e){return"#ffffff"},cx:n,cy:s}),this.breakpointLayer.configureCommonShape(c,{cx:n,cy:s},{color:"#ffffff"}),this.breakpointLayer.setBehavior(new f),this.breakpointLayer.on("edit",function(e,t){t[0]=Math.max(0,Math.min(t[0],1)),t[1]=Math.max(0,Math.min(t[1],1))}),this.timeline.addLayer(this.breakpointLayer,"main"),this.timeline.tracks.render(),this.timeline.tracks.update(),this.timeline.state=new m(this.timeline),this.bindEvents(),this.$el}},{key:"onResize",value:function(){i(Object.getPrototypeOf(t.prototype),"onResize",this).call(this);var e=this.$timeline.getBoundingClientRect().width;this.timeline.visibleWidth=e,this.timeline.pixelsPerSecond=e,this.timeline.tracks.update()}},{key:"bindEvents",value:function(){var e=this;this.timeline.on("update",function(){e.emit("change",e.dots)})}}]),t}(p);t.exports=b},{"./base-controller":2,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"waves-ui/dist/behaviors/breakpoint-behavior":117,"waves-ui/dist/core/layer":120,"waves-ui/dist/core/layer-time-context":119,"waves-ui/dist/core/timeline":123,"waves-ui/dist/shapes/dot":131,"waves-ui/dist/shapes/line":132,"waves-ui/dist/states/base-state":134}],4:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/inherits")["default"],i=e("babel-runtime/helpers/get")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/core-js/array/from")["default"],l=e("./base-controller"),u=function(e){function t(e,r){var n=void 0===arguments[2]?null:arguments[2],s=void 0===arguments[3]?null:arguments[3];o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.type="buttons",this.legend=e,this.labels=r,i(Object.getPrototypeOf(t.prototype),"_applyOptionnalParameters",this).call(this,n,s)}return n(t,e),s(t,[{key:"render",value:function(){var e='\n      <span class="legend">'+this.legend+'</span>\n      <div class="inner-wrapper">\n        '+this.labels.map(function(e){return'<button data-label="'+e+'">'+e+"</button>"}).join("")+"\n      </div>";return this.$el=i(Object.getPrototypeOf(t.prototype),"render",this).call(this),this.$el.classList.add(this.type),this.$el.innerHTML=e,this.$buttons=a(this.$el.querySelectorAll("button")),this.bindEvents(),this.$el}},{key:"bindEvents",value:function(){var e=this;this.$buttons.forEach(function(t){var r=t.getAttribute("data-label");t.addEventListener("mousedown",function(e){e.preventDefault(),t.classList.add("active")}),t.addEventListener("mouseup",function(n){n.preventDefault(),t.classList.remove("active"),e.emit("change",r)})})}}]),t}(l);t.exports=u},{"./base-controller":2,"babel-runtime/core-js/array/from":10,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27}],5:[function(e,t,r){t.exports=" .waves-basic-controllers { width: 100%; max-width: 800px; height: 30px; padding: 3px; margin: 4px 0; background-color: #efefef; border: 1px solid #aaaaaa; box-sizing: border-box; border-radius: 2px; display: block; color: #464646; } .waves-basic-controllers .legend { font: italic bold 12px arial; line-height: 22px; overflow: hidden; text-align: right; padding: 0 8px 0 0; display: block; box-sizing: border-box; width: 24%; float: left; white-space: nowrap; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; } .waves-basic-controllers .inner-wrapper { display: -webkit-inline-flex; display: inline-flex; -webkit-flex-wrap: no-wrap; flex-wrap: no-wrap; width: 76%; float: left; } .waves-basic-controllers.small:not(.toggle) { height: auto; } .waves-basic-controllers.small:not(.toggle) .legend { width: 100%; float: none; text-align: left; } .waves-basic-controllers.small:not(.toggle) .inner-wrapper { width: 100%; float: none; } .waves-basic-controllers.small.toggle .legend { display: inline-block; margin-right: 20px; text-align: left; width: auto; } .waves-basic-controllers.small.toggle .inner-wrapper { display: inline-block; width: auto; } .waves-basic-controllers.title { border: none; margin-bottom: 0; padding-bottom: 0; padding-top: 6px; background-color: transparent; height: 25px; } .waves-basic-controllers.title .legend { font: normal bold 13px arial; line-height: 22px; height: 22px; overflow: hidden; text-align: left; padding: 0; width: 100%; box-sizing: border-box; -webkit-flex-grow: 1; flex-grow: 1; } .waves-basic-controllers.buttons button { font: normal normal 12px arial; height: 22px; border: none; background-color: #464646; color: #ffffff; margin: 0 4px 0 0; box-sizing: border-box; border-radius: 2px; cursor: pointer; -webkit-flex-grow: 1; flex-grow: 1; } .waves-basic-controllers.buttons button:last-child { margin: 0; } .waves-basic-controllers.buttons button.active { background-color: #686868; } .waves-basic-controllers.buttons button:focus { outline: none; } .waves-basic-controllers.toggle .toggle-container { padding: 0; margin: 0; width: 19px; height: 19px; background-color: #464646; flex-row: 1; position: relative; top: 1px; cursor: pointer; border-radius: 2px; } .waves-basic-controllers.toggle .toggle-container .x { width: 1px; height: 19px; background-color: #efefef; position: absolute; left: 9px; display: none; } .waves-basic-controllers.toggle .toggle-container.active .x { display: block; } .waves-basic-controllers.toggle .toggle-container .x.x1 { -webkit-transform: rotate(45deg); transform: rotate(45deg); } .waves-basic-controllers.toggle .toggle-container .x.x2 { -webkit-transform: rotate(-45deg); transform: rotate(-45deg); } .waves-basic-controllers.slider .inner-wrapper .range { height: 22px; display: inline-block; margin: 0; -webkit-flex-grow: 4; flex-grow: 4 } .waves-basic-controllers.slider .inner-wrapper .number-wrapper { display: inline; height: 22px; text-align: right; -webkit-flex-grow: 3; flex-grow: 3; } .waves-basic-controllers.slider .inner-wrapper.large .range { -webkit-flex-grow: 50; flex-grow: 50 } .waves-basic-controllers.slider .inner-wrapper.large .number-wrapper { -webkit-flex-grow: 1; flex-grow: 1; } .waves-basic-controllers.slider .inner-wrapper.small .range { -webkit-flex-grow: 1; flex-grow: 1 } .waves-basic-controllers.slider .inner-wrapper.small .number-wrapper { -webkit-flex-grow: 7; flex-grow: 7; } .waves-basic-controllers.slider .inner-wrapper .number-wrapper .number { height: 22px; width: 54px; position: relative; left: 5px; font: normal normal 12px arial; border: none; background: none; padding: 0 0 0 4px; display: inline-block; text-align: right; vertical-align: top; } .waves-basic-controllers.slider .inner-wrapper .number-wrapper .unit { font: italic normal 12px arial; line-height: 22px; height: 22px; width: 30px; display: inline-block; position: relative; padding-left: 5px; padding-right: 5px; color: #565656; } .waves-basic-controllers.slider .inner-wrapper .number-wrapper .unit sup { line-height: 7px; } .waves-basic-controllers.breakpoint { height: auto; overflow: auto; } .waves-basic-controllers.breakpoint .timeline { background-color: #464646; border-radius: 2px; } .waves-basic-controllers.dark { background-color: #464646; border: 1px solid #686868; color: rgba(255, 255, 255, 0.95); } .waves-basic-controllers.dark.title { background-color: transparent; border: none; } .waves-basic-controllers.dark.toggle .toggle-container { background-color: #efefef; } .waves-basic-controllers.dark.toggle .toggle-container .x { background-color: #464646; } .waves-basic-controllers.dark.buttons button { background-color: #efefef; color: #464646; } .waves-basic-controllers.dark.buttons button.active { background-color: #cdcdcd; } .waves-basic-controllers.dark.slider .inner-wrapper .number-wrapper .number { color: rgba(255, 255, 255, 0.9); } .waves-basic-controllers.dark.slider .inner-wrapper .number-wrapper .unit { color: #bcbcbc; } "},{}],6:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/inherits")["default"],i=e("babel-runtime/helpers/get")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("./base-controller"),l=(e("./utils/styles"),function(e){function t(e){var r=void 0===arguments[1]?0:arguments[1],n=void 0===arguments[2]?1:arguments[2],s=void 0===arguments[3]?.01:arguments[3],a=void 0===arguments[4]?0:arguments[4],l=void 0===arguments[5]?"":arguments[5],u=void 0===arguments[6]?"default":arguments[6],c=void 0===arguments[7]?null:arguments[7],h=void 0===arguments[8]?null:arguments[8];o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.type="slider",this.legend=e,this.min=r,this.max=n,this.step=s,this.unit=l,this.size=u,this._value=a,i(Object.getPrototypeOf(t.prototype),"_applyOptionnalParameters",this).call(this,c,h)}return n(t,e),s(t,[{key:"render",value:function(){var e='\n      <span class="legend">'+this.legend+'</span>\n      <div class="inner-wrapper '+this.size+'">\n        <input class="range" type="range" min="'+this.min+'" max="'+this.max+'" step="'+this.step+'" value="'+this.value+'" />\n        <div class="number-wrapper">\n          <input type="number" class="number" min="'+this.min+'" max="'+this.max+'" step="'+this.step+'" value="'+this.value+'" />\n          <span class="unit">'+this.unit+"</span>\n        </div>\n      </div>";return this.$el=i(Object.getPrototypeOf(t.prototype),"render",this).call(this),this.$el.classList.add(this.type),this.$el.innerHTML=e,this.$range=this.$el.querySelector('input[type="range"]'),this.$number=this.$el.querySelector('input[type="number"]'),this.bindEvents(),this.$el}},{key:"bindEvents",value:function(){var e=this;this.$range.addEventListener("input",function(){var t=parseFloat(e.$range.value);e.$number.value=t,e.value=t,e.emit("change",t)},!1),this.$number.addEventListener("change",function(){var t=parseFloat(e.$number.value);e.$range.value=t,e.value=t,e.emit("change",t)},!1)}},{key:"value",set:function(e){this._value=e,this.$number&&this.$range&&(this.$number.value=this.value,this.$range.value=this.value)},get:function(){return this._value}}]),t}(a));t.exports=l},{"./base-controller":2,"./utils/styles":9,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27}],7:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/inherits")["default"],i=e("babel-runtime/helpers/get")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("./base-controller"),l=(e("./utils/styles"),function(e){function t(e){var r=void 0===arguments[1]?null:arguments[1];o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.type="title",this.legend=e,i(Object.getPrototypeOf(t.prototype),"_applyOptionnalParameters",this).call(this,r)}return n(t,e),s(t,[{key:"render",value:function(){var e='<span class="legend">'+this.legend+"</span>";return this.$el=i(Object.getPrototypeOf(t.prototype),"render",this).call(this),this.$el.classList.add(this.type),this.$el.innerHTML=e,this.$el}}]),t}(a));t.exports=l},{"./base-controller":2,"./utils/styles":9,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27}],8:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/inherits")["default"],i=e("babel-runtime/helpers/get")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("./base-controller"),l=function(e){function t(e){var r=void 0===arguments[1]?!1:arguments[1],n=void 0===arguments[2]?!1:arguments[2],s=void 0===arguments[3]?null:arguments[3];o(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.type="toggle",this.legend=e,this._active=r,i(Object.getPrototypeOf(t.prototype),"_applyOptionnalParameters",this).call(this,n,s)}return n(t,e),s(t,[{key:"_updateBtn",value:function(){var e=this.active?"add":"remove";this.$toggle.classList[e]("active")}},{key:"render",value:function(){var e='\n      <span class="legend">'+this.legend+'</span>\n      <div class="inner-wrapper">\n        <div class="toggle-container">\n          <div class="x x1"></div><div class="x x2"></div>\n        </div>\n      </div>';return this.$el=i(Object.getPrototypeOf(t.prototype),"render",this).call(this),this.$el.classList.add(this.type),this.$el.innerHTML=e,this.$toggle=this.$el.querySelector(".toggle-container"),this.bindEvents(),this.active=this._active,this.$el}},{key:"bindEvents",value:function(){var e=this;this.$toggle.addEventListener("click",function(t){t.preventDefault(),e.active=!e.active,e.emit("change",e.active)})}},{key:"active",set:function(e){this._active=e,this._updateBtn()},get:function(){return this._active}}]),t}(a);t.exports=l},{"./base-controller":2,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27}],9:[function(e,t,r){"use strict";var n=e("../../package.json"),i=e("../css/styles.js"),s=n.name;t.exports.insertStyleSheet=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];var n=document.createElement("style");n.setAttribute("data-namespace",s),n.innerHTML=i,document.body.appendChild(n)},t.exports.ns=s},{"../../package.json":136,"../css/styles.js":5}],10:[function(e,t,r){t.exports={"default":e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":31}],11:[function(e,t,r){t.exports={"default":e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":32}],12:[function(e,t,r){t.exports={"default":e("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":33}],13:[function(e,t,r){t.exports={"default":e("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":34}],14:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":35}],15:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":36}],16:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":37}],17:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":38}],18:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":39}],19:[function(e,t,r){t.exports={"default":e("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":40}],20:[function(e,t,r){t.exports={"default":e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":41}],21:[function(e,t,r){t.exports={"default":e("core-js/library/fn/set"),__esModule:!0}},{"core-js/library/fn/set":42}],22:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":43}],23:[function(e,t,r){t.exports={"default":e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":44}],24:[function(e,t,r){"use strict";r["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r.__esModule=!0},{}],25:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/define-property")["default"];r["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),n(e,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),r.__esModule=!0},{"babel-runtime/core-js/object/define-property":16}],26:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/get-own-property-descriptor")["default"];r["default"]=function(e,t,r){for(var i=!0;i;){var s=e,o=t,a=r;l=c=u=void 0,i=!1,null===s&&(s=Function.prototype);var l=n(s,o);if(void 0!==l){if("value"in l)return l.value;var u=l.get;return void 0===u?void 0:u.call(a)}var c=Object.getPrototypeOf(s);if(null===c)return void 0;e=c,t=o,r=a,i=!0}},r.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":17}],27:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/object/create")["default"],i=e("babel-runtime/core-js/object/set-prototype-of")["default"];r["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=n(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i?i(e,t):e.__proto__=t)},r.__esModule=!0},{"babel-runtime/core-js/object/create":15,"babel-runtime/core-js/object/set-prototype-of":19}],28:[function(e,t,r){"use strict";r["default"]=function(e){return e&&e.__esModule?e:{"default":e}},r.__esModule=!0},{}],29:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/get-iterator")["default"],i=e("babel-runtime/core-js/is-iterable")["default"];r["default"]=function(){function e(e,t){var r=[],i=!0,s=!1,o=void 0;try{for(var a,l=n(e);!(i=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(u){s=!0,o=u}finally{try{!i&&l["return"]&&l["return"]()}finally{if(s)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(i(Object(t)))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r.__esModule=!0},{"babel-runtime/core-js/get-iterator":11,"babel-runtime/core-js/is-iterable":12}],30:[function(e,t,r){"use strict";var n=e("babel-runtime/core-js/array/from")["default"];r["default"]=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return n(e)},r.__esModule=!0},{"babel-runtime/core-js/array/from":10}],31:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/$.core").Array.from},{"../../modules/$.core":53,"../../modules/es6.array.from":100,"../../modules/es6.string.iterator":109}],32:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/core.get-iterator":98,"../modules/es6.string.iterator":109,"../modules/web.dom.iterable":113}],33:[function(e,t,r){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.is-iterable")},{"../modules/core.is-iterable":99,"../modules/es6.string.iterator":109,"../modules/web.dom.iterable":113}],34:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),e("../modules/es7.map.to-json"),t.exports=e("../modules/$.core").Map},{"../modules/$.core":53,"../modules/es6.map":102,"../modules/es6.object.to-string":106,"../modules/es6.string.iterator":109,"../modules/es7.map.to-json":111,"../modules/web.dom.iterable":113}],35:[function(e,t,r){e("../../modules/es6.object.assign"),t.exports=e("../../modules/$.core").Object.assign},{"../../modules/$.core":53,"../../modules/es6.object.assign":103}],36:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t){return n.create(e,t)}},{"../../modules/$":76}],37:[function(e,t,r){var n=e("../../modules/$");t.exports=function(e,t,r){return n.setDesc(e,t,r)}},{"../../modules/$":76}],38:[function(e,t,r){var n=e("../../modules/$");e("../../modules/es6.object.statics-accept-primitives"),t.exports=function(e,t){return n.getDesc(e,t)}},{"../../modules/$":76,"../../modules/es6.object.statics-accept-primitives":105}],39:[function(e,t,r){e("../../modules/es6.object.statics-accept-primitives"),t.exports=e("../../modules/$.core").Object.keys},{"../../modules/$.core":53,"../../modules/es6.object.statics-accept-primitives":105}],40:[function(e,t,r){e("../../modules/es6.object.set-prototype-of"),t.exports=e("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":53,"../../modules/es6.object.set-prototype-of":104}],41:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),t.exports=e("../modules/$.core").Promise},{"../modules/$.core":53,"../modules/es6.object.to-string":106,"../modules/es6.promise":107,"../modules/es6.string.iterator":109,"../modules/web.dom.iterable":113}],42:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.set"),e("../modules/es7.set.to-json"),t.exports=e("../modules/$.core").Set},{"../modules/$.core":53,"../modules/es6.object.to-string":106,"../modules/es6.set":108,"../modules/es6.string.iterator":109,"../modules/es7.set.to-json":112,"../modules/web.dom.iterable":113}],43:[function(e,t,r){e("../../modules/es6.symbol"),t.exports=e("../../modules/$.core").Symbol},{"../../modules/$.core":53,"../../modules/es6.symbol":110}],44:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/$.wks")("iterator")},{"../../modules/$.wks":96,"../../modules/es6.string.iterator":109,"../../modules/web.dom.iterable":113}],45:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],46:[function(e,t,r){var n=e("./$.is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":68}],47:[function(e,t,r){var n=e("./$.to-object"),i=e("./$.es5-object"),s=e("./$.enum-keys");t.exports=Object.assign||function(e,t){for(var r=n(e,!0),o=arguments.length,a=1;o>a;)for(var l,u=i(arguments[a++]),c=s(u),h=c.length,f=0;h>f;)r[l=c[f++]]=u[l];return r}},{"./$.enum-keys":58,"./$.es5-object":59,"./$.to-object":93}],48:[function(e,t,r){var n=e("./$.cof"),i=e("./$.wks")("toStringTag"),s="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,r,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[i])?r:s?n(t):"Object"==(o=n(t))&&"function"==typeof t.callee?"Arguments":o}},{"./$.cof":49,"./$.wks":96}],49:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],50:[function(e,t,r){"use strict";function n(e,t){if(!m(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!p(e,d)){if(!b(e))return"F";if(!t)return"E";o(e,d,++y)}return"O"+e[d]}function i(e,t){var r,i=n(t);if("F"!==i)return e._i[i];for(r=e._f;r;r=r.n)if(r.k==t)return r}var s=e("./$"),o=e("./$.hide"),a=e("./$.ctx"),l=e("./$.species"),u=e("./$.strict-new"),c=e("./$.defined"),h=e("./$.for-of"),f=e("./$.iter-step"),d=e("./$.uid")("id"),p=e("./$.has"),m=e("./$.is-object"),b=Object.isExtensible||m,v=e("./$.support-desc"),g=v?"_s":"size",y=0;t.exports={getConstructor:function(t,r,n,o){var l=t(function(e,t){u(e,l,r),e._i=s.create(null),e._f=void 0,e._l=void 0,e[g]=0,void 0!=t&&h(t,n,e[o],e)});return e("./$.mix")(l.prototype,{clear:function(){for(var e=this,t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[g]=0},"delete":function(e){var t=this,r=i(t,e);if(r){var n=r.n,s=r.p;delete t._i[r.i],r.r=!0,s&&(s.n=n),n&&(n.p=s),t._f==r&&(t._f=n),t._l==r&&(t._l=s),t[g]--}return!!r},forEach:function(e){for(var t,r=a(e,arguments[1],3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!i(this,e)}}),v&&s.setDesc(l.prototype,"size",{get:function(){return c(this[g])}}),l},def:function(e,t,r){var s,o,a=i(e,t);return a?a.v=r:(e._l=a={i:o=n(t,!0),k:t,v:r,p:s=e._l,n:void 0,r:!1},e._f||(e._f=a),s&&(s.n=a),e[g]++,"F"!==o&&(e._i[o]=a)),e},getEntry:i,setStrong:function(t,r,n){e("./$.iter-define")(t,r,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?f(0,r.k):"values"==t?f(0,r.v):f(0,[r.k,r.v]):(e._t=void 0,f(1))},n?"entries":"values",!n,!0),l(t),l(e("./$.core")[r])}}},{"./$":76,"./$.core":53,"./$.ctx":54,"./$.defined":56,"./$.for-of":60,"./$.has":63,"./$.hide":64,"./$.is-object":68,"./$.iter-define":72,"./$.iter-step":74,"./$.mix":79,"./$.species":85,"./$.strict-new":86,"./$.support-desc":88,"./$.uid":94}],51:[function(e,t,r){var n=e("./$.for-of"),i=e("./$.classof");t.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");var t=[];return n(this,!1,t.push,t),t}}},{"./$.classof":48,"./$.for-of":60}],52:[function(e,t,r){"use strict";var n=e("./$"),i=e("./$.def"),s=e("./$.hide"),o=e("./$.iter-buggy"),a=e("./$.for-of"),l=e("./$.strict-new");t.exports=function(t,r,u,c,h,f){var d=e("./$.global")[t],p=d,m=h?"set":"add",b=p&&p.prototype,v={};return e("./$.support-desc")&&"function"==typeof p&&(f||!o&&b.forEach&&b.entries)?(p=r(function(e,r){l(e,p,t),e._c=new d,void 0!=r&&a(r,h,e[m],e)}),n.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(e){var t="add"==e||"set"==e;e in b&&(!f||"clear"!=e)&&s(p.prototype,e,function(r,n){var i=this._c[e](0===r?0:r,n);return t?this:i})}),"size"in b&&n.setDesc(p.prototype,"size",{get:function(){return this._c.size}})):(p=c.getConstructor(r,t,h,m),e("./$.mix")(p.prototype,u)),e("./$.tag")(p,t),v[t]=p,i(i.G+i.W+i.F,v),f||c.setStrong(p,t,h),p}},{"./$":76,"./$.def":55,"./$.for-of":60,"./$.global":62,"./$.hide":64,"./$.iter-buggy":69,"./$.mix":79,"./$.strict-new":86,"./$.support-desc":88,"./$.tag":89}],53:[function(e,t,r){var n=t.exports={};"number"==typeof __e&&(__e=n)},{}],54:[function(e,t,r){var n=e("./$.a-function");t.exports=function(e,t,r){if(n(e),~r&&void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},{"./$.a-function":45}],55:[function(e,t,r){function n(e,t){return function(){return e.apply(t,arguments)}}function i(e,t,r){var l,u,c,h,f=e&i.G,d=e&i.P,p=f?s:e&i.S?s[t]:(s[t]||{})[a],m=f?o:o[t]||(o[t]={});f&&(r=t);
for(l in r)u=!(e&i.F)&&p&&l in p,u&&l in m||(c=u?p[l]:r[l],f&&"function"!=typeof p[l]?h=r[l]:e&i.B&&u?h=n(c,s):e&i.W&&p[l]==c?!function(e){h=function(t){return this instanceof e?new e(t):e(t)},h[a]=e[a]}(c):h=d&&"function"==typeof c?n(Function.call,c):c,m[l]=h,d&&((m[a]||(m[a]={}))[l]=c))}var s=e("./$.global"),o=e("./$.core"),a="prototype";i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,t.exports=i},{"./$.core":53,"./$.global":62}],56:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],57:[function(e,t,r){var n=e("./$.is-object"),i=e("./$.global").document,s=n(i)&&n(i.createElement);t.exports=function(e){return s?i.createElement(e):{}}},{"./$.global":62,"./$.is-object":68}],58:[function(e,t,r){var n=e("./$");t.exports=function(e){var t=n.getKeys(e),r=n.isEnum,i=n.getSymbols;if(i)for(var s,o=i(e),a=0;o.length>a;)r.call(e,s=o[a++])&&t.push(s);return t}},{"./$":76}],59:[function(e,t,r){var n=e("./$.cof"),i=Object;t.exports=0 in i("z")?i:function(e){return"String"==n(e)?e.split(""):i(e)}},{"./$.cof":49}],60:[function(e,t,r){var n=e("./$.ctx"),i=e("./$.iter-call"),s=e("./$.is-array-iter"),o=e("./$.an-object"),a=e("./$.to-length"),l=e("./core.get-iterator-method");t.exports=function(e,t,r,u){var c,h,f,d=l(e),p=n(r,u,t?2:1),m=0;if("function"!=typeof d)throw TypeError(e+" is not iterable!");if(s(d))for(c=a(e.length);c>m;m++)t?p(o(h=e[m])[0],h[1]):p(e[m]);else for(f=d.call(e);!(h=f.next()).done;)i(f,p,h.value,t)}},{"./$.an-object":46,"./$.ctx":54,"./$.is-array-iter":67,"./$.iter-call":70,"./$.to-length":92,"./core.get-iterator-method":97}],61:[function(e,t,r){function n(e){try{return o(e)}catch(t){return a.slice()}}var i={}.toString,s=e("./$.to-object"),o=e("./$").getNames,a="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.get=function(e){return a&&"[object Window]"==i.call(e)?n(e):o(s(e))}},{"./$":76,"./$.to-object":93}],62:[function(e,t,r){var n="undefined"!=typeof self&&self.Math==Math?self:Function("return this")();t.exports=n,"number"==typeof __g&&(__g=n)},{}],63:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],64:[function(e,t,r){var n=e("./$"),i=e("./$.property-desc");t.exports=e("./$.support-desc")?function(e,t,r){return n.setDesc(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},{"./$":76,"./$.property-desc":80,"./$.support-desc":88}],65:[function(e,t,r){t.exports=e("./$.global").document&&document.documentElement},{"./$.global":62}],66:[function(e,t,r){t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3]);case 5:return n?e(t[0],t[1],t[2],t[3],t[4]):e.call(r,t[0],t[1],t[2],t[3],t[4])}return e.apply(r,t)}},{}],67:[function(e,t,r){var n=e("./$.iterators"),i=e("./$.wks")("iterator");t.exports=function(e){return("Array"in n?n.Array:Array.prototype[i])===e}},{"./$.iterators":75,"./$.wks":96}],68:[function(e,t,r){t.exports=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},{}],69:[function(e,t,r){t.exports="keys"in[]&&!("next"in[].keys())},{}],70:[function(e,t,r){function n(e){var t=e["return"];void 0!==t&&i(t.call(e))}var i=e("./$.an-object");t.exports=function(e,t,r,s){try{return s?t(i(r)[0],r[1]):t(r)}catch(o){throw n(e),o}}},{"./$.an-object":46}],71:[function(e,t,r){"use strict";var n=e("./$"),i={};e("./$.hide")(i,e("./$.wks")("iterator"),function(){return this}),t.exports=function(t,r,s){t.prototype=n.create(i,{next:e("./$.property-desc")(1,s)}),e("./$.tag")(t,r+" Iterator")}},{"./$":76,"./$.hide":64,"./$.property-desc":80,"./$.tag":89,"./$.wks":96}],72:[function(e,t,r){"use strict";function n(){return this}var i=e("./$.library"),s=e("./$.def"),o=e("./$.redef"),a=e("./$.hide"),l=e("./$.has"),u=e("./$.wks")("iterator"),c=e("./$.iterators"),h="@@iterator",f="keys",d="values";t.exports=function(t,r,p,m,b,v,g){function y(e){switch(e){case f:return function(){return new p(this,e)};case d:return function(){return new p(this,e)}}return function(){return new p(this,e)}}e("./$.iter-create")(p,r,m);var $,x,_=r+" Iterator",w=t.prototype,k=w[u]||w[h]||b&&w[b],j=k||y(b);if(k){var P=e("./$").getProto(j.call(new t));e("./$.tag")(P,_,!0),!i&&l(w,h)&&a(P,u,n)}if((!i||g)&&a(w,u,j),c[r]=j,c[_]=n,b)if($={keys:v?j:y(f),values:b==d?j:y(d),entries:b!=d?j:y("entries")},g)for(x in $)x in w||o(w,x,$[x]);else s(s.P+s.F*e("./$.iter-buggy"),r,$)}},{"./$":76,"./$.def":55,"./$.has":63,"./$.hide":64,"./$.iter-buggy":69,"./$.iter-create":71,"./$.iterators":75,"./$.library":78,"./$.redef":81,"./$.tag":89,"./$.wks":96}],73:[function(e,t,r){var n=e("./$.wks")("iterator"),i=!1;try{var s=[7][n]();s["return"]=function(){i=!0},Array.from(s,function(){throw 2})}catch(o){}t.exports=function(e){if(!i)return!1;var t=!1;try{var r=[7],s=r[n]();s.next=function(){t=!0},r[n]=function(){return s},e(r)}catch(o){}return t}},{"./$.wks":96}],74:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],75:[function(e,t,r){t.exports={}},{}],76:[function(e,t,r){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},{}],77:[function(e,t,r){var n=e("./$"),i=e("./$.to-object");t.exports=function(e,t){for(var r,s=i(e),o=n.getKeys(s),a=o.length,l=0;a>l;)if(s[r=o[l++]]===t)return r}},{"./$":76,"./$.to-object":93}],78:[function(e,t,r){t.exports=!0},{}],79:[function(e,t,r){var n=e("./$.redef");t.exports=function(e,t){for(var r in t)n(e,r,t[r]);return e}},{"./$.redef":81}],80:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],81:[function(e,t,r){t.exports=e("./$.hide")},{"./$.hide":64}],82:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},{}],83:[function(e,t,r){function n(e,t){if(o(e),!s(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var i=e("./$").getDesc,s=e("./$.is-object"),o=e("./$.an-object");t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r){try{r=e("./$.ctx")(Function.call,i(Object.prototype,"__proto__").set,2),r({},[])}catch(s){t=!0}return function(e,i){return n(e,i),t?e.__proto__=i:r(e,i),e}}():void 0),check:n}},{"./$":76,"./$.an-object":46,"./$.ctx":54,"./$.is-object":68}],84:[function(e,t,r){var n=e("./$.global"),i="__core-js_shared__",s=n[i]||(n[i]={});t.exports=function(e){return s[e]||(s[e]={})}},{"./$.global":62}],85:[function(e,t,r){var n=e("./$"),i=e("./$.wks")("species");t.exports=function(t){!e("./$.support-desc")||i in t||n.setDesc(t,i,{configurable:!0,get:function(){return this}})}},{"./$":76,"./$.support-desc":88,"./$.wks":96}],86:[function(e,t,r){t.exports=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e}},{}],87:[function(e,t,r){var n=e("./$.to-integer"),i=e("./$.defined");t.exports=function(e){return function(t,r){var s,o,a=String(i(t)),l=n(r),u=a.length;return 0>l||l>=u?e?"":void 0:(s=a.charCodeAt(l),55296>s||s>56319||l+1===u||(o=a.charCodeAt(l+1))<56320||o>57343?e?a.charAt(l):s:e?a.slice(l,l+2):(s-55296<<10)+(o-56320)+65536)}}},{"./$.defined":56,"./$.to-integer":91}],88:[function(e,t,r){t.exports=!!function(){try{return 2==Object.defineProperty({},"a",{get:function(){return 2}}).a}catch(e){}}()},{}],89:[function(e,t,r){var n=e("./$.has"),i=e("./$.hide"),s=e("./$.wks")("toStringTag");t.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,s)&&i(e,s,t)}},{"./$.has":63,"./$.hide":64,"./$.wks":96}],90:[function(e,t,r){"use strict";function n(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}}function i(e){n.call(e.data)}var s,o,a,l=e("./$.ctx"),u=e("./$.invoke"),c=e("./$.html"),h=e("./$.dom-create"),f=e("./$.global"),d=f.process,p=f.setImmediate,m=f.clearImmediate,b=f.MessageChannel,v=0,g={},y="onreadystatechange";p&&m||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return g[++v]=function(){u("function"==typeof e?e:Function(e),t)},s(v),v},m=function(e){delete g[e]},"process"==e("./$.cof")(d)?s=function(e){d.nextTick(l(n,e,1))}:f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(s=function(e){f.postMessage(e,"*")},f.addEventListener("message",i,!1)):b?(o=new b,a=o.port2,o.port1.onmessage=i,s=l(a.postMessage,a,1)):s=y in h("script")?function(e){c.appendChild(h("script"))[y]=function(){c.removeChild(this),n.call(e)}}:function(e){setTimeout(l(n,e,1),0)}),t.exports={set:p,clear:m}},{"./$.cof":49,"./$.ctx":54,"./$.dom-create":57,"./$.global":62,"./$.html":65,"./$.invoke":66}],91:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},{}],92:[function(e,t,r){var n=e("./$.to-integer"),i=Math.min;t.exports=function(e){return e>0?i(n(e),9007199254740991):0}},{"./$.to-integer":91}],93:[function(e,t,r){var n=e("./$.es5-object"),i=e("./$.defined");t.exports=function(e,t){return(t?Object:n)(i(e))}},{"./$.defined":56,"./$.es5-object":59}],94:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},{}],95:[function(e,t,r){t.exports=function(){}},{}],96:[function(e,t,r){var n=e("./$.shared")("wks"),i=e("./$.global").Symbol;t.exports=function(t){return n[t]||(n[t]=i&&i[t]||(i||e("./$.uid"))("Symbol."+t))}},{"./$.global":62,"./$.shared":84,"./$.uid":94}],97:[function(e,t,r){var n=e("./$.global"),i=e("./$.classof"),s=e("./$.wks")("iterator"),o=e("./$.iterators");t.exports=e("./$.core").getIteratorMethod=function(e){var t=n.Symbol;return void 0!=e?e[t&&t.iterator||"@@iterator"]||e[s]||o[i(e)]:void 0}},{"./$.classof":48,"./$.core":53,"./$.global":62,"./$.iterators":75,"./$.wks":96}],98:[function(e,t,r){var n=e("./$.an-object"),i=e("./core.get-iterator-method");t.exports=e("./$.core").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},{"./$.an-object":46,"./$.core":53,"./core.get-iterator-method":97}],99:[function(e,t,r){var n=e("./$.global"),i=e("./$.has"),s=e("./$.classof"),o=e("./$.wks")("iterator"),a=e("./$.iterators");t.exports=e("./$.core").isIterable=function(e){var t=Object(e),r=n.Symbol;return(r&&r.iterator||"@@iterator")in t||o in t||i(a,s(t))}},{"./$.classof":48,"./$.core":53,"./$.global":62,"./$.has":63,"./$.iterators":75,"./$.wks":96}],100:[function(e,t,r){var n=e("./$.ctx"),i=e("./$.def"),s=e("./$.to-object"),o=e("./$.iter-call"),a=e("./$.is-array-iter"),l=e("./$.to-length"),u=e("./core.get-iterator-method");i(i.S+i.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,c,h=s(e,!0),f="function"==typeof this?this:Array,d=arguments[1],p=void 0!==d,m=0,b=u(h);if(p&&(d=n(d,arguments[2],2)),void 0==b||f==Array&&a(b))for(r=new f(t=l(h.length));t>m;m++)r[m]=p?d(h[m],m):h[m];else for(c=b.call(h),r=new f;!(i=c.next()).done;m++)r[m]=p?o(c,d,[i.value,m],!0):i.value;return r.length=m,r}})},{"./$.ctx":54,"./$.def":55,"./$.is-array-iter":67,"./$.iter-call":70,"./$.iter-detect":73,"./$.to-length":92,"./$.to-object":93,"./core.get-iterator-method":97}],101:[function(e,t,r){var n=e("./$.unscope"),i=e("./$.iter-step"),s=e("./$.iterators"),o=e("./$.to-object");e("./$.iter-define")(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},{"./$.iter-define":72,"./$.iter-step":74,"./$.iterators":75,"./$.to-object":93,"./$.unscope":95}],102:[function(e,t,r){"use strict";var n=e("./$.collection-strong");e("./$.collection")("Map",function(e){return function(){return e(this,arguments[0])}},{get:function(e){var t=n.getEntry(this,e);return t&&t.v},set:function(e,t){return n.def(this,0===e?0:e,t)}},n,!0)},{"./$.collection":52,"./$.collection-strong":50}],103:[function(e,t,r){var n=e("./$.def");n(n.S,"Object",{assign:e("./$.assign")})},{"./$.assign":47,"./$.def":55}],104:[function(e,t,r){var n=e("./$.def");n(n.S,"Object",{setPrototypeOf:e("./$.set-proto").set})},{"./$.def":55,"./$.set-proto":83}],105:[function(e,t,r){var n=e("./$"),i=e("./$.core"),s=e("./$.def"),o=e("./$.to-object"),a=e("./$.is-object");n.each.call("freeze,seal,preventExtensions,isFrozen,isSealed,isExtensible,getOwnPropertyDescriptor,getPrototypeOf,keys,getOwnPropertyNames".split(","),function(t,r){var n=(i.Object||{})[t]||Object[t],l=0,u={};u[t]=0==r?function(e){return a(e)?n(e):e}:1==r?function(e){return a(e)?n(e):e}:2==r?function(e){return a(e)?n(e):e}:3==r?function(e){return a(e)?n(e):!0}:4==r?function(e){return a(e)?n(e):!0}:5==r?function(e){return a(e)?n(e):!1}:6==r?function(e,t){return n(o(e),t)}:7==r?function(e){return n(o(e,!0))}:8==r?function(e){return n(o(e))}:e("./$.get-names").get;try{n("z")}catch(c){l=1}s(s.S+s.F*l,"Object",u)})},{"./$":76,"./$.core":53,"./$.def":55,"./$.get-names":61,"./$.is-object":68,"./$.to-object":93}],106:[function(e,t,r){},{}],107:[function(e,t,r){"use strict";function n(e){var t=new T(function(){});return e&&(t.constructor=Object),T.resolve(t)===t}function i(e){return y(e)&&(A?"Promise"==v(e):S in e)}function s(e,t){return p&&e===T&&t===f?!0:j(e,t)}function o(e){var t=$(e)[E];return void 0!=t?t:e}function a(e){var t;return y(e)&&"function"==typeof(t=e.then)?t:!1}function l(e,t){if(!e.n){e.n=!0;var r=e.c;M.call(m,function(){function n(t){var r,n,o=s?t.ok:t.fail;try{o?(s||(e.h=!0),r=o===!0?i:o(i),r===t.P?t.rej(TypeError("Promise-chain cycle")):(n=a(r))?n.call(r,t.res,t.rej):t.res(r)):t.rej(i)}catch(l){t.rej(l)}}for(var i=e.v,s=1==e.s,o=0;r.length>o;)n(r[o++]);r.length=0,e.n=!1,t&&setTimeout(function(){M.call(m,function(){u(e.p)&&(O?L.emit("unhandledRejection",i,e.p):m.console&&console.error&&console.error("Unhandled promise rejection",i)),e.a=void 0})},1)})}}function u(e){var t,r=e[S],n=r.a||r.c,i=0;if(r.h)return!1;for(;n.length>i;)if(t=n[i++],t.fail||!u(t.P))return!1;return!0}function c(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),l(t,!0))}function h(e){var t,r=this;if(!r.d){r.d=!0,r=r.r||r;try{(t=a(e))?M.call(m,function(){var n={r:r,d:!1};try{t.call(e,b(h,n,1),b(c,n,1))}catch(i){c.call(n,i)}}):(r.v=e,r.s=1,l(r,!1))}catch(n){c.call({r:r,d:!1},n)}}}var f,d=e("./$"),p=e("./$.library"),m=e("./$.global"),b=e("./$.ctx"),v=e("./$.classof"),g=e("./$.def"),y=e("./$.is-object"),$=e("./$.an-object"),x=e("./$.a-function"),_=e("./$.strict-new"),w=e("./$.for-of"),k=e("./$.set-proto").set,j=e("./$.same"),P=e("./$.species"),E=e("./$.wks")("species"),S=e("./$.uid")("record"),C="Promise",L=m.process,O="process"==v(L),M=L&&L.nextTick||e("./$.task").set,T=m[C],A=function(){function t(e){var r=new T(e);return k(r,t.prototype),r}var r=!1;try{if(r=T&&T.resolve&&n(),k(t,T),t.prototype=d.create(T.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(r=!1),r&&e("./$.support-desc")){var i=!1;T.resolve(d.setDesc({},"then",{get:function(){i=!0}})),r=i}}catch(s){r=!1}return r}();A||(T=function(e){x(e);var t={p:_(this,T,C),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};this[S]=t;try{e(b(h,t,1),b(c,t,1))}catch(r){c.call(t,r)}},e("./$.mix")(T.prototype,{then:function(e,t){var r=$($(this).constructor)[E],n={ok:"function"==typeof e?e:!0,fail:"function"==typeof t?t:!1},i=n.P=new(void 0!=r?r:T)(function(e,t){n.res=x(e),n.rej=x(t)}),s=this[S];return s.c.push(n),s.a&&s.a.push(n),s.s&&l(s,!1),i},"catch":function(e){return this.then(void 0,e)}})),g(g.G+g.W+g.F*!A,{Promise:T}),e("./$.tag")(T,C),P(T),P(f=e("./$.core")[C]),g(g.S+g.F*!A,C,{reject:function(e){return new this(function(t,r){r(e)})}}),g(g.S+g.F*(!A||n(!0)),C,{resolve:function(e){return i(e)&&s(e.constructor,this)?e:new this(function(t){t(e)})}}),g(g.S+g.F*!(A&&e("./$.iter-detect")(function(e){T.all(e)["catch"](function(){})})),C,{all:function(e){var t=o(this),r=[];return new t(function(n,i){w(e,!1,r.push,r);var s=r.length,o=Array(s);s?d.each.call(r,function(e,r){t.resolve(e).then(function(e){o[r]=e,--s||n(o)},i)}):n(o)})},race:function(e){var t=o(this);return new t(function(r,n){w(e,!1,function(e){t.resolve(e).then(r,n)})})}})},{"./$":76,"./$.a-function":45,"./$.an-object":46,"./$.classof":48,"./$.core":53,"./$.ctx":54,"./$.def":55,"./$.for-of":60,"./$.global":62,"./$.is-object":68,"./$.iter-detect":73,"./$.library":78,"./$.mix":79,"./$.same":82,"./$.set-proto":83,"./$.species":85,"./$.strict-new":86,"./$.support-desc":88,"./$.tag":89,"./$.task":90,"./$.uid":94,"./$.wks":96}],108:[function(e,t,r){"use strict";var n=e("./$.collection-strong");e("./$.collection")("Set",function(e){return function(){return e(this,arguments[0])}},{add:function(e){return n.def(this,e=0===e?0:e,e)}},n)},{"./$.collection":52,"./$.collection-strong":50}],109:[function(e,t,r){var n=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./$.iter-define":72,"./$.string-at":87}],110:[function(e,t,r){"use strict";function n(e){var t=N[e]=C(O.prototype);return t._k=e,p&&M&&q(I,e,{configurable:!0,set:function(t){d(this,T)&&d(this[T],e)&&(this[T][e]=!1),q(this,e,P(1,t))}}),t}function i(e,t,r){return r&&d(N,t)?(r.enumerable?(d(e,T)&&e[T][t]&&(e[T][t]=!1),r=C(r,{enumerable:P(0,!1)})):(d(e,T)||S(e,T,P(1,{})),e[T][t]=!0),q(e,t,r)):S(e,t,r)}function s(e,t){k(e);for(var r,n=w(t=j(t)),s=0,o=n.length;o>s;)i(e,r=n[s++],t[r]);return e}function o(e,t){return void 0===t?C(e):s(C(e),t)}function a(e){var t=A.call(this,e);return t||!d(this,e)||!d(N,e)||d(this,T)&&this[T][e]?t:!0}function l(e,t){var r=E(e=j(e),t);return!r||!d(N,t)||d(e,T)&&e[T][t]||(r.enumerable=!0),r}function u(e){for(var t,r=L(j(e)),n=[],i=0;r.length>i;)d(N,t=r[i++])||t==T||n.push(t);return n}function c(e){for(var t,r=L(j(e)),n=[],i=0;r.length>i;)d(N,t=r[i++])&&n.push(N[t]);return n}var h=e("./$"),f=e("./$.global"),d=e("./$.has"),p=e("./$.support-desc"),m=e("./$.def"),b=e("./$.redef"),v=e("./$.shared"),g=e("./$.tag"),y=e("./$.uid"),$=e("./$.wks"),x=e("./$.keyof"),_=e("./$.get-names"),w=e("./$.enum-keys"),k=e("./$.an-object"),j=e("./$.to-object"),P=e("./$.property-desc"),E=h.getDesc,S=h.setDesc,C=h.create,L=_.get,O=f.Symbol,M=!1,T=$("_hidden"),A=h.isEnum,D=v("symbol-registry"),N=v("symbols"),R="function"==typeof O,I=Object.prototype,q=p?function(){try{return C(S({},T,{get:function(){return S(this,T,{value:!1})[T]}}))[T]||S}catch(e){return function(e,t,r){var n=E(I,t);n&&delete I[t],S(e,t,r),n&&e!==I&&S(I,t,n)}}}():S;R||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor");return n(y(arguments[0]))},b(O.prototype,"toString",function(){return this._k}),h.create=o,h.isEnum=a,h.getDesc=l,h.setDesc=i,h.setDescs=s,h.getNames=_.get=u,h.getSymbols=c,p&&!e("./$.library")&&b(I,"propertyIsEnumerable",a,!0));var z={"for":function(e){return d(D,e+="")?D[e]:D[e]=O(e)},keyFor:function(e){return x(D,e)},useSetter:function(){M=!0},useSimple:function(){M=!1}};h.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=$(e);z[e]=R?t:n(t)}),M=!0,m(m.G+m.W,{Symbol:O}),m(m.S,"Symbol",z),m(m.S+m.F*!R,"Object",{create:o,defineProperty:i,defineProperties:s,getOwnPropertyDescriptor:l,getOwnPropertyNames:u,getOwnPropertySymbols:c}),g(O,"Symbol"),g(Math,"Math",!0),g(f.JSON,"JSON",!0)},{"./$":76,"./$.an-object":46,"./$.def":55,"./$.enum-keys":58,"./$.get-names":61,"./$.global":62,"./$.has":63,"./$.keyof":77,"./$.library":78,"./$.property-desc":80,"./$.redef":81,"./$.shared":84,"./$.support-desc":88,"./$.tag":89,"./$.to-object":93,"./$.uid":94,"./$.wks":96}],111:[function(e,t,r){var n=e("./$.def");n(n.P,"Map",{toJSON:e("./$.collection-to-json")("Map")})},{"./$.collection-to-json":51,"./$.def":55}],112:[function(e,t,r){var n=e("./$.def");n(n.P,"Set",{toJSON:e("./$.collection-to-json")("Set")})},{"./$.collection-to-json":51,"./$.def":55}],113:[function(e,t,r){e("./es6.array.iterator");var n=e("./$.iterators");n.NodeList=n.HTMLCollection=n.Array},{"./$.iterators":75,"./es6.array.iterator":101}],114:[function(e,t,r){(function(r){var n="object"==typeof r?r:"object"==typeof window?window:"object"==typeof self?self:this,i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,s=i&&n.regeneratorRuntime;n.regeneratorRuntime=void 0,t.exports=e("./runtime"),i?n.regeneratorRuntime=s:delete n.regeneratorRuntime,t.exports={"default":t.exports,__esModule:!0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./runtime":115}],115:[function(e,t,r){(function(r,n){"use strict";var i=e("babel-runtime/core-js/symbol")["default"],s=e("babel-runtime/core-js/symbol/iterator")["default"],o=e("babel-runtime/core-js/object/create")["default"],a=e("babel-runtime/core-js/promise")["default"];!function(e){function n(e,t,r,n){var i=o((t||u).prototype);return i._invoke=m(e,r||null,new g(n||[])),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function u(){}function c(){}function h(){}function f(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function d(e){this.arg=e}function p(e){function t(t,r){var n=e[t](r),i=n.value;return i instanceof d?a.resolve(i.arg).then(s,o):a.resolve(i).then(function(e){return n.value=e,n})}function n(e,r){var n=i?i.then(function(){return t(e,r)}):new a(function(n){n(t(e,r))});return i=n["catch"](function(e){}),n}"object"==typeof r&&r.domain&&(t=r.domain.bind(t));var i,s=t.bind(e,"next"),o=t.bind(e,"throw");t.bind(e,"return");this._invoke=n}function m(e,t,r){var n=P;return function(i,s){if(n===S)throw new Error("Generator is already running");if(n===C){if("throw"===i)throw s;return $()}for(;;){var o=r.delegate;if(o){if("return"===i||"throw"===i&&o.iterator[i]===x){r.delegate=null;var a=o.iterator["return"];if(a){var u=l(a,o.iterator,s);if("throw"===u.type){i="throw",s=u.arg;continue}}if("return"===i)continue}var u=l(o.iterator[i],o.iterator,s);if("throw"===u.type){r.delegate=null,i="throw",s=u.arg;continue}i="next",s=x;var c=u.arg;if(!c.done)return n=E,c;r[o.resultName]=c.value,r.next=o.nextLoc,r.delegate=null}if("next"===i)n===E?r.sent=s:r.sent=x;else if("throw"===i){if(n===P)throw n=C,s;r.dispatchException(s)&&(i="next",s=x)}else"return"===i&&r.abrupt("return",s);n=S;var u=l(e,t,r);if("normal"===u.type){n=r.done?C:E;var c={value:u.arg,done:r.done};if(u.arg!==L)return c;r.delegate&&"next"===i&&(s=x)}else"throw"===u.type&&(n=C,i="throw",s=u.arg)}}}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function v(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function g(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function y(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function i(){for(;++r<e.length;)if(_.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=x,i.done=!0,i};return n.next=n}}return{next:$}}function $(){return{value:x,done:!0}}var x,_=Object.prototype.hasOwnProperty,w="function"==typeof i&&s||"@@iterator",k="object"==typeof t,j=e.regeneratorRuntime;if(j)return void(k&&(t.exports=j));j=e.regeneratorRuntime=k?t.exports:{},j.wrap=n;var P="suspendedStart",E="suspendedYield",S="executing",C="completed",L={},O=h.prototype=u.prototype;c.prototype=O.constructor=h,h.constructor=c,c.displayName="GeneratorFunction",j.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===c||"GeneratorFunction"===(t.displayName||t.name):!1},j.mark=function(e){return e.__proto__=h,e.prototype=o(O),e},j.awrap=function(e){return new d(e)},f(p.prototype),j.async=function(e,t,r,i){var s=new p(n(e,t,r,i));return j.isGeneratorFunction(t)?s:s.next().then(function(e){return e.done?e.value:s.next()})},f(O),O[w]=function(){return this},O.toString=function(){return"[object Generator]"},j.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},j.values=y,g.prototype={constructor:g,reset:function(e){if(this.prev=0,this.next=0,this.sent=x,this.done=!1,this.delegate=null,this.tryEntries.forEach(v),!e)for(var t in this)"t"===t.charAt(0)&&_.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=x)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return s.type="throw",s.arg=e,r.next=t,!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],s=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var o=_.call(i,"catchLoc"),a=_.call(i,"finallyLoc");if(o&&a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&_.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?this.next=i.finallyLoc:this.complete(s),L},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),v(r),L}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;v(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:y(e),resultName:t,nextLoc:r},L}}}("object"==typeof n?n:"object"==typeof window?window:"object"==typeof self?self:void 0)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:138,"babel-runtime/core-js/object/create":15,"babel-runtime/core-js/promise":20,"babel-runtime/core-js/symbol":22,"babel-runtime/core-js/symbol/iterator":23}],116:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/helpers/to-consumable-array")["default"],o=e("babel-runtime/core-js/set")["default"],a=e("babel-runtime/core-js/object/assign")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e),this._selectedItems=new o,this._selectedClass=t.selectedClass||"selected",this._layer=null,this._params=a({},this.getDefaults(),t)}return n(e,[{key:"initialize",value:function(e){this._layer=e}},{key:"destroy",value:function(){}},{key:"getDefaults",value:function(){return{}}},{key:"select",value:function(e,t){e.classList.add(this.selectedClass),this._selectedItems.add(e)}},{key:"unselect",value:function(e,t){e.classList.remove(this.selectedClass),this._selectedItems["delete"](e)}},{key:"toggleSelection",value:function(e,t){var r=this._selectedItems.has(e)?"unselect":"select";this[r](e)}},{key:"edit",value:function(e,t,r,n,i,s){}},{key:"selectedClass",set:function(e){this._selectedClass=e},get:function(){return this._selectedClass}},{key:"selectedItems",get:function(){return[].concat(s(this._selectedItems))}}]),e}();r["default"]=l,t.exports=r["default"]},{"babel-runtime/core-js/object/assign":14,"babel-runtime/core-js/set":21,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/to-consumable-array":30}],117:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("./base-behavior"),u=a(l),c=function(e){function t(){o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"edit",value:function(e,t,r,n,i,s){var o=this._layer.data,a=e.height,l=e.timeToPixel(t.cx(r)),u=e.valueToPixel(t.cy(r)),c=l+n,h=u-i;if(o.length>2){var f=o.map(function(r){return e.timeToPixel(t.cx(r))});f.sort(function(e,t){return t>e?-1:1});var d=f.indexOf(l);(c<f[d-1]||c>f[d+1])&&(c=l)}0>h?h=0:h>a&&(h=a),t.cx(r,e.timeToPixel.invert(c)),t.cy(r,e.valueToPixel.invert(h))}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-behavior":116,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/helpers/interop-require-default":28}],118:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(){i(this,e)}return n(e,[{key:"edit",value:function(e,t,r,n){var i=e.timeContext;n.classList.contains("handler")&&n.classList.contains("left")?this._editLeft(i,t):n.classList.contains("handler")&&n.classList.contains("right")?this._editRight(i,t):n.classList.contains("segment")&&this._move(i,t)}},{key:"_editLeft",value:function(e,t){var r=e.parent.timeToPixel(e.start),n=e.timeToPixel(e.offset),i=e.timeToPixel(e.duration),s=r+t,o=n-t,a=Math.max(i-t,1);e.start=e.parent.timeToPixel.invert(s),e.offset=e.timeToPixel.invert(o),e.duration=e.timeToPixel.invert(a)}},{key:"_editRight",value:function(e,t){var r=e.timeToPixel(e.duration),n=Math.max(r+t,1);e.duration=e.timeToPixel.invert(n)}},{key:"_move",value:function(e,t){var r=e.parent.timeToPixel(e.start),n=Math.max(r+t,0);e.start=e.parent.timeToPixel.invert(n)}},{key:"stretch",value:function(e,t,r,n){var i=e.timeContext,s=i.duration,o=i.offset;this.edit(e,t,r,n);var a=i.duration,l=a/s;i.stretchRatio*=l,i.offset=o,i.duration=s}}]),e}();r["default"]=s,t.exports=r["default"]},{"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25}],119:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../utils/scales"),a=s(o),l=function(){function e(t){if(i(this,e),!t)throw new Error("LayerTimeContext must have a parent");this.parent=t,this._timeToPixel=null,this._start=0,this._duration=t.visibleDuration,this._offset=0,this._stretchRatio=1,this.parent._children.push(this)}return n(e,[{key:"clone",value:function(){var e=new this;return e.parent=this.parent,e.start=this.start,e.duration=this.duration,e.offset=this.offset,e.stretchRatio=this.stretchRatio,e}},{key:"start",get:function(){return this._start},set:function(e){this._start=e}},{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e}},{key:"offset",get:function(){return this._offset},set:function(e){this._offset=e}
},{key:"stretchRatio",get:function(){return this._stretchRatio},set:function(e){if(1===e)return void(this._timeToPixel=null);var t=this._timeToPixel?this._timeToPixel:a["default"].linear().domain([0,1]);t.range([0,this.parent.computedPixelsPerSecond*e]),this._timeToPixel=t,this._stretchRatio=e}},{key:"timeToPixel",get:function(){return this._timeToPixel?this._timeToPixel:this.parent.timeToPixel}}]),e}();r["default"]=l,t.exports=r["default"]},{"../utils/scales":135,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/interop-require-default":28}],120:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/sliced-to-array")["default"],l=e("babel-runtime/core-js/object/assign")["default"],u=e("babel-runtime/core-js/map")["default"],c=e("babel-runtime/core-js/get-iterator")["default"],h=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var f=e("../utils/scales"),d=h(f),p=e("events"),m=h(p),b=e("./namespace"),v=h(b),g=e("../shapes/segment"),y=h(g),$=e("../behaviors/time-context-behavior"),x=h($),_=null,w=x["default"],k=function(e){function t(e,r){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.dataType=e,this.data=r;var s={height:100,top:0,id:"",yDomain:[0,1],opacity:1,contextHandlerWidth:2,className:null};this.params=l({},s,i),this.timeContext=null,this.$el=null,this.$boundingBox=null,this.$offset=null,this.$interactions=null,this._shapeConfiguration=null,this._commonShapeConfiguration=null,this._$itemShapeMap=new u,this._$itemDataMap=new u,this._$itemCommonShapeMap=new u,this._isContextEditable=!1,this._behavior=null,this._valueToPixel=d["default"].linear().domain(this.params.yDomain).range([0,this.params.height]),this.contextBehavior="",this._renderContainer(),null===_&&(_=new w)}return i(t,e),s(t,[{key:"destroy",value:function(){this.timeContext=null,this.data=null,this.params=null,this._behavior=null,this._$itemShapeMap.clear(),this._$itemDataMap.clear(),this._$itemCommonShapeMap.clear(),this.removeAllListeners()}},{key:"setTimeContext",value:function(e){this.timeContext=e,this._renderingContext={},this._updateRenderingContext()}},{key:"_renderContainer",value:function(){var e=this;this.$el=document.createElementNS(v["default"],"g"),null!==this.params.className&&this.$el.classList.add("layer",this.params.className),this.$boundingBox=document.createElementNS(v["default"],"svg"),this.$boundingBox.classList.add("bounding-box"),this.$offset=document.createElementNS(v["default"],"g"),this.$offset.classList.add("offset","items"),this.$background=document.createElementNS(v["default"],"rect"),this.$background.setAttributeNS(null,"height","100%"),this.$background.setAttributeNS(null,"width","100%"),this.$background.classList.add("background"),this.$background.style.fillOpacity=0,this.$background.style.pointerEvents="none",this.$interactions=document.createElementNS(v["default"],"g"),this.$interactions.classList.add("interactions"),this.$interactions.style.display="none",this.contextShape=new y["default"],this.contextShape.install({opacity:function(){return.1},color:function(){return"#787878"},width:function(){return e.timeContext.duration},height:function(){return e._renderingContext.valueToPixel.domain()[1]},y:function(){return e._renderingContext.valueToPixel.domain()[0]}}),this.$interactions.appendChild(this.contextShape.render()),this.$el.appendChild(this.$boundingBox),this.$boundingBox.appendChild(this.$offset),this.$offset.appendChild(this.$background),this.$boundingBox.appendChild(this.$interactions)}},{key:"configureShape",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this._shapeConfiguration={ctor:e,accessors:t,options:r}}},{key:"configureCommonShape",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this._commonShapeConfiguration={ctor:e,accessors:t,options:r}}},{key:"setBehavior",value:function(e){e.initialize(this),this._behavior=e}},{key:"_updateRenderingContext",value:function(){this._renderingContext.timeToPixel=this.timeContext.timeToPixel,this._renderingContext.valueToPixel=this._valueToPixel,this._renderingContext.height=this.params.height,this._renderingContext.width=this.timeContext.timeToPixel(this.timeContext.duration),this._renderingContext.offsetX=this.timeContext.timeToPixel(this.timeContext.offset),this._renderingContext.trackOffsetX=this.timeContext.parent.timeToPixel(this.timeContext.parent.offset),this._renderingContext.visibleWidth=this.timeContext.parent.visibleWidth}},{key:"select",value:function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if(this._behavior){t.length||(t=this._$itemDataMap.keys()),Array.isArray(t[0])&&(t=t[0]);var n=!0,i=!1,s=void 0;try{for(var o,a=c(t);!(n=(o=a.next()).done);n=!0){var l=o.value,u=this._$itemDataMap.get(l);this._behavior.select(l,u),this._toFront(l)}}catch(h){i=!0,s=h}finally{try{!n&&a["return"]&&a["return"]()}finally{if(i)throw s}}}}},{key:"unselect",value:function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if(this._behavior){t.length||(t=this._$itemDataMap.keys()),Array.isArray(t[0])&&(t=t[0]);var n=!0,i=!1,s=void 0;try{for(var o,a=c(t);!(n=(o=a.next()).done);n=!0){var l=o.value,u=this._$itemDataMap.get(l);this._behavior.unselect(l,u)}}catch(h){i=!0,s=h}finally{try{!n&&a["return"]&&a["return"]()}finally{if(i)throw s}}}}},{key:"toggleSelection",value:function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if(this._behavior){t.length||(t=this._$itemDataMap.keys()),Array.isArray(t[0])&&(t=t[0]);var n=!0,i=!1,s=void 0;try{for(var o,a=c(t);!(n=(o=a.next()).done);n=!0){var l=o.value,u=this._$itemDataMap.get(l);this._behavior.toggleSelection(l,u)}}catch(h){i=!0,s=h}finally{try{!n&&a["return"]&&a["return"]()}finally{if(i)throw s}}}}},{key:"edit",value:function(e,t,r,n){if(this._behavior){e=Array.isArray(e)?e:[e];var i=!0,s=!1,o=void 0;try{for(var a,l=c(e);!(i=(a=l.next()).done);i=!0){var u=a.value,h=this._$itemShapeMap.get(u),f=this._$itemDataMap.get(u);this._behavior.edit(this._renderingContext,h,f,t,r,n),this.emit("edit",h,f)}}catch(d){s=!0,o=d}finally{try{!i&&l["return"]&&l["return"]()}finally{if(s)throw o}}}}},{key:"setContextEditable",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],t=e?"block":"none";this.$interactions.style.display=t,this._isContextEditable=e}},{key:"editContext",value:function(e,t,r){_.edit(this,e,t,r)}},{key:"stretchContext",value:function(e,t,r){_.stretch(this,e,t,r)}},{key:"_toFront",value:function(e){this.$offset.appendChild(e)}},{key:"getItemFromDOMElement",value:function(e){var t=void 0;do{if(e.classList&&e.classList.contains("item")){t=e;break}e=e.parentNode}while(null!==e);return this.hasItem(t)?t:null}},{key:"getDatumFromItem",value:function(e){return this._$itemDataMap.get(e)}},{key:"getDatumFromDOMElement",value:function(e){var t=this.getItemFromDOMElement(e);return null===t?null:this.getDatumFromItem(t)}},{key:"hasItem",value:function(e){return this._$itemDataMap.has(e)}},{key:"hasElement",value:function(e){do{if(e===this.$el)return!0;e=e.parentNode}while(null!==e);return!1}},{key:"getItemsInArea",value:function(e){var t=this.timeContext.timeToPixel(this.timeContext.start),r=this.timeContext.timeToPixel(this.timeContext.duration),n=this.timeContext.timeToPixel(this.timeContext.offset),i=(this.params.top,Math.max(e.left,t)),s=Math.min(e.left+e.width,t+r);i-=t+n,s-=t+n;var o=this.params.height-(e.top+e.height),l=this.params.height-e.top;o+=this.params.top,l+=this.params.top;var u=[],h=!0,f=!1,d=void 0;try{for(var p,m=c(this._$itemDataMap.entries());!(h=(p=m.next()).done);h=!0){var b=a(p.value,2),v=b[0],g=b[1],y=this._$itemShapeMap.get(v),$=y.inArea(this._renderingContext,g,i,o,s,l);$&&u.push(v)}}catch(x){f=!0,d=x}finally{try{!h&&m["return"]&&m["return"]()}finally{if(f)throw d}}return u}},{key:"render",value:function(){var e=this;if(null!==this._commonShapeConfiguration&&0===this._$itemCommonShapeMap.size){var t=this._commonShapeConfiguration,r=t.ctor,n=t.accessors,i=t.options,s=document.createElementNS(v["default"],"g"),o=new r(i);o.install(n),s.appendChild(o.render()),s.classList.add("item","common",o.getClassName()),this._$itemCommonShapeMap.set(s,o),this.$offset.appendChild(s)}var l=document.createDocumentFragment(),u=this._$itemDataMap.values();this.data.forEach(function(t){var r=!0,n=!1,i=void 0;try{for(var s,o=c(u);!(r=(s=o.next()).done);r=!0){var a=s.value;if(a===t)return}}catch(h){n=!0,i=h}finally{try{!r&&o["return"]&&o["return"]()}finally{if(n)throw i}}var f=e._shapeConfiguration,d=f.ctor,p=f.accessors,m=f.options,b=new d(m);b.install(p);var v=b.render(e._renderingContext);v.classList.add("item",b.getClassName()),e._$itemShapeMap.set(v,b),e._$itemDataMap.set(v,t),l.appendChild(v)}),this.$offset.appendChild(l);var h=!0,f=!1,d=void 0;try{for(var p,m=c(this._$itemDataMap.entries());!(h=(p=m.next()).done);h=!0){var b=a(p.value,2),g=b[0],y=b[1];if(-1===this.data.indexOf(y)){this.$offset.removeChild(g);var o=this._$itemShapeMap.get(g);o.destroy(),this._$itemDataMap["delete"](g),this._$itemShapeMap["delete"](g)}}}catch($){f=!0,d=$}finally{try{!h&&m["return"]&&m["return"]()}finally{if(f)throw d}}}},{key:"update",value:function(){this.updateContainer(),this.updateShapes()}},{key:"updateContainer",value:function(){this._updateRenderingContext();var e=this.timeContext,t=e.timeToPixel(e.duration),r=e.parent.timeToPixel(e.start),n=e.timeToPixel(e.offset),i=this.params.top,s=this.params.height,o="matrix(1, 0, 0, -1, "+r+", "+(i+s)+")";this.$el.setAttributeNS(null,"transform",o),this.$boundingBox.setAttributeNS(null,"width",t),this.$boundingBox.setAttributeNS(null,"height",s),this.$boundingBox.style.opacity=this.params.opacity,this.$offset.setAttributeNS(null,"transform","translate("+n+", 0)"),this.contextShape.update(this._renderingContext,this.timeContext,0)}},{key:"updateShapes",value:function(){var e=this;arguments.length<=0||void 0===arguments[0]?null:arguments[0];this._updateRenderingContext(),this._$itemCommonShapeMap.forEach(function(t,r){t.update(e._renderingContext,e.data)});var t=!0,r=!1,n=void 0;try{for(var i,s=c(this._$itemDataMap.entries());!(t=(i=s.next()).done);t=!0){var o=a(i.value,2),l=o[0],u=o[1],h=this._$itemShapeMap.get(l);h.update(this._renderingContext,u)}}catch(f){r=!0,n=f}finally{try{!t&&s["return"]&&s["return"]()}finally{if(r)throw n}}}},{key:"start",get:function(){return this.timeContext.start},set:function(e){this.timeContext.start=e}},{key:"offset",get:function(){return this.timeContext.offset},set:function(e){this.timeContext.offset=e}},{key:"duration",get:function(){return this.timeContext.duration},set:function(e){this.timeContext.duration=e}},{key:"stretchRatio",get:function(){return this.timeContext.stretchRatio},set:function(e){this.timeContext.stretchRatio=e}},{key:"yDomain",set:function(e){this.params.yDomain=e,this._valueToPixel.domain(e)},get:function(){return this.params.yDomain}},{key:"opacity",set:function(e){this.params.opacity=e},get:function(){return this.params.opacity}},{key:"items",get:function(){var e=[],t=!0,r=!1,n=void 0;try{for(var i,s=c(this._$itemDataMap.keys());!(t=(i=s.next()).done);t=!0){var o=i.value;e.push(o)}}catch(a){r=!0,n=a}finally{try{!t&&s["return"]&&s["return"]()}finally{if(r)throw n}}return e}},{key:"data",get:function(){return this._data},set:function(e){switch(this.dataType){case"entity":this._data?this._data[0]=e:this._data=[e];break;case"collection":this._data=e}}},{key:"selectedItems",get:function(){return this._behavior?this._behavior.selectedItems:[]}}],[{key:"configureTimeContextBehavior",value:function(e){w=e}}]),t}(m["default"].EventEmitter);r["default"]=k,t.exports=r["default"]},{"../behaviors/time-context-behavior":118,"../shapes/segment":133,"../utils/scales":135,"./namespace":121,"babel-runtime/core-js/get-iterator":11,"babel-runtime/core-js/map":13,"babel-runtime/core-js/object/assign":14,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/helpers/interop-require-default":28,"babel-runtime/helpers/sliced-to-array":29,events:137}],121:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r["default"]="http://www.w3.org/2000/svg",t.exports=r["default"]},{}],122:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var o=e("../utils/scales"),a=s(o),l=function(){function e(t,r){i(this,e),this._children=[],this._timeToPixel=null,this._offset=0,this._zoom=1,this._computedPixelsPerSecond=t,this._visibleWidth=r,this._visibleDuration=this.visibleWidth/this._computedPixelsPerSecond,this._maintainVisibleDuration=!1;var n=a["default"].linear().domain([0,1]).range([0,t]);this.timeToPixel=n,this._originalPixelsPerSecond=this._computedPixelsPerSecond}return n(e,[{key:"_updateTimeToPixelRange",value:function(){this._visibleDuration=this.visibleWidth/this._computedPixelsPerSecond,this.timeToPixel.range([0,this._computedPixelsPerSecond])}},{key:"pixelsPerSecond",get:function(){return this._originalPixelsPerSecond},set:function(e){this._computedPixelsPerSecond=e*this.zoom,this._originalPixelsPerSecond=e,this._updateTimeToPixelRange(),this._children.forEach(function(e){e._timeToPixel&&(e.stretchRatio=e.stretchRatio)})}},{key:"computedPixelsPerSecond",get:function(){return this._computedPixelsPerSecond}},{key:"offset",get:function(){return this._offset},set:function(e){this._offset=e}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=e/this._zoom;this._zoom=e,this._computedPixelsPerSecond=this._originalPixelsPerSecond*e,this._updateTimeToPixelRange(),this._children.forEach(function(e){e._timeToPixel&&(e.stretchRatio=e.stretchRatio*t)})}},{key:"visibleWidth",get:function(){return this._visibleWidth},set:function(e){var t=e/this.visibleWidth;this._visibleWidth=e,this._visibleDuration=this.visibleWidth/this._computedPixelsPerSecond,this.maintainVisibleDuration&&(this.pixelsPerSecond=this._computedPixelsPerSecond*t)}},{key:"visibleDuration",get:function(){return this._visibleDuration}},{key:"maintainVisibleDuration",get:function(){return this._maintainVisibleDuration},set:function(e){this._maintainVisibleDuration=e}},{key:"timeToPixel",get:function(){return this._timeToPixel},set:function(e){this._timeToPixel=e}}]),e}();r["default"]=l,t.exports=r["default"]},{"../utils/scales":135,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/interop-require-default":28}],123:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/core-js/symbol/iterator")["default"],l=e("babel-runtime/regenerator")["default"],u=e("babel-runtime/core-js/get-iterator")["default"],c=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var h=e("events"),f=c(h),d=e("../interactions/keyboard"),p=c(d),m=e("./layer-time-context"),b=c(m),v=e("../interactions/surface"),g=c(v),y=e("./timeline-time-context"),$=c(y),x=e("./track"),_=c(x),w=e("./track-collection"),k=c(w),j=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?100:arguments[0],r=arguments.length<=1||void 0===arguments[1]?1e3:arguments[1],i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],s=i.registerKeyboard,a=void 0===s?!0:s;o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._tracks=new k["default"](this),this._state=null,this._surfaceCtor=g["default"],a&&this.createInteraction(p["default"],document),this._trackById={},this._groupedLayers={},this.timeContext=new $["default"](e,r)}return i(t,e),s(t,[{key:"configureSurface",value:function(e){this._surfaceCtor=e}},{key:"createInteraction",value:function(e,t){var r=this,n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],i=new e(t,n);i.on("event",function(e){return r._handleEvent(e)})}},{key:"_handleEvent",value:function(e){this.emit("event",e),this._state&&this._state.handleEvent(e)}},{key:"add",value:function(e){if(-1!==this.tracks.indexOf(e))throw new Error("track already added to the timeline");e.configure(this.timeContext),this.tracks.push(e),this.createInteraction(this._surfaceCtor,e.$el)}},{key:"remove",value:function(e){}},{key:"createTrack",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?100:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],n=new _["default"](e,t);if(null!==r){if(void 0!==this._trackById[r])throw new Error('trackId: "'+r+'" is already used');this._trackById[r]=n}return this.add(n),n.render(),n.update(),n}},{key:"addLayer",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]?"default":arguments[2],n=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],i=t;if("string"==typeof t&&(i=this.getTrackById(t)),!e.timeContext){var s=n?this.timeContext:new b["default"](this.timeContext);e.setTimeContext(s)}i.add(e),this._groupedLayers[r]||(this._groupedLayers[r]=[]),this._groupedLayers[r].push(e),e.render(),e.update()}},{key:"removeLayer",value:function(e){this.tracks.forEach(function(t){var r=t.layers.indexOf(e);-1!==r&&t.remove(e)});for(var t in this._groupedLayers){var r=this._groupedLayers[t],n=r.indexOf(e);-1!==n&&r.splice(e,1),r.length||delete this._groupedLayers[t]}}},{key:"getTrackById",value:function(e){return this._trackById[e]}},{key:"getTrackFromDOMElement",value:function(e){var t=null,r=null;do e.classList.contains("track")&&(t=e),e=e.parentNode;while(null===t);return this.tracks.forEach(function(e){e.$svg===t&&(r=e)}),r}},{key:"getLayersByGroup",value:function(e){return this._groupedLayers[e]}},{key:a,value:l.mark(function r(){return l.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(u(this.tracks),"t0",1);case 1:case"end":return e.stop()}},r,this)})},{key:"offset",get:function(){return this.timeContext.offset},set:function(e){this.timeContext.offset=e}},{key:"zoom",get:function(){return this.timeContext.zoom},set:function(e){this.timeContext.zoom=e}},{key:"pixelsPerSecond",get:function(){return this.timeContext.pixelsPerSecond},set:function(e){this.timeContext.pixelsPerSecond=e}},{key:"visibleWidth",get:function(){return this.timeContext.visibleWidth},set:function(e){this.timeContext.visibleWidth=e}},{key:"timeToPixel",get:function(){return this.timeContext.timeToPixel}},{key:"visibleDuration",get:function(){return this.timeContext.visibleDuration}},{key:"maintainVisibleDuration",set:function(e){this.timeContext.maintainVisibleDuration=e},get:function(){return this.timeContext.maintainVisibleDuration}},{key:"groupedLayers",get:function(){return this._groupedLayers}},{key:"state",set:function(e){this._state&&this._state.exit(),this._state=e,this._state&&this._state.enter()},get:function(){return this._state}},{key:"tracks",get:function(){return this._tracks}},{key:"layers",get:function(){return this._tracks.layers}}]),t}(f["default"].EventEmitter);r["default"]=j,t.exports=r["default"]},{"../interactions/keyboard":127,"../interactions/surface":128,"./layer-time-context":119,"./timeline-time-context":122,"./track":125,"./track-collection":124,"babel-runtime/core-js/get-iterator":11,"babel-runtime/core-js/symbol/iterator":23,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/helpers/interop-require-default":28,"babel-runtime/regenerator":114,events:137}],124:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("./layer"),u=a(l),c=function(e){function t(e){o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this._timeline=e}return i(t,e),s(t,[{key:"_getLayersOrGroups",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=null;return t="string"==typeof e?this._timeline.groupedLayers[e]:e instanceof u["default"]?[e]:this.layers}},{key:"render",value:function(){this.forEach(function(e){return e.render()}),this._timeline.emit("render")}},{key:"update",value:function(e){var t=this._getLayersOrGroups(e);this.forEach(function(e){return e.update(t)}),this._timeline.emit("update",t)}},{key:"updateContainer",value:function(e){this.forEach(function(e){return e.updateContainer()}),this._timeline.emit("update:containers")}},{key:"updateLayers",value:function(e){var t=this._getLayersOrGroups(e);this.forEach(function(e){return e.updateLayers(t)}),this._timeline.emit("update:layers",t)}},{key:"height",set:function(e){this.forEach(function(t){return t.height=e})}},{key:"layers",get:function(){var e=[];return this.forEach(function(t){return e=e.concat(t.layers)}),e}}]),t}(Array);r["default"]=c,t.exports=r["default"]},{"./layer":120,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/helpers/interop-require-default":28}],125:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/core-js/get-iterator")["default"],o=e("babel-runtime/core-js/symbol/iterator")["default"],a=e("babel-runtime/regenerator")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("./namespace"),c=l(u),h=function(){function e(t){var r=arguments.length<=1||void 0===arguments[1]?100:arguments[1];i(this,e),this.$el=t,this.layers=[],this._height=r,this.renderingContext=null,this._createContainer()}return n(e,[{key:"configure",value:function(e){this.renderingContext=e}},{key:"destroy",value:function(){var e=this;this.$el.removeChild(this.$svg),this.layers.forEach(function(t){return e.$layout.removeChild(t.$el)}),this.$el=null,this.renderingContext=null,this.layers.length=0}},{key:"_createContainer",value:function(){var e=document.createElementNS(c["default"],"svg");e.setAttributeNS(null,"shape-rendering","optimizeSpeed"),e.setAttributeNS(null,"height",this.height),e.setAttribute("xmlns:xhtml","http://www.w3.org/1999/xhtml"),e.classList.add("track");var t=document.createElementNS(c["default"],"rect");t.setAttributeNS(null,"height","100%"),t.setAttributeNS(null,"width","100%"),t.setAttributeNS(null,"style","fill-opacity:0");var r=document.createElementNS(c["default"],"defs"),n=document.createElementNS(c["default"],"g");n.classList.add("offset");var i=document.createElementNS(c["default"],"g");i.classList.add("layout");var s=document.createElementNS(c["default"],"g");s.classList.add("interactions"),e.appendChild(r),e.appendChild(t),n.appendChild(i),e.appendChild(n),e.appendChild(s),this.$el.appendChild(e),this.$el.style.fontSize=0,this.$el.style.transform="translateZ(0)",this.$layout=i,this.$offset=n,this.$interactions=s,this.$svg=e,this.$background=t}},{key:"add",value:function(e){this.layers.push(e),this.$layout.appendChild(e.$el)}},{key:"remove",value:function(e){this.layers.splice(this.layers.indexOf(e),1),this.$layout.removeChild(e.$el)}},{key:"render",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,i=s(this);!(e=(n=i.next()).done);e=!0){var o=n.value;o.render()}}catch(a){t=!0,r=a}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw r}}}},{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];this.updateContainer(),this.updateLayers(e)}},{key:"updateContainer",value:function(){var e=this.$svg,t=this.$offset,r=this.renderingContext,n=this.height,i=r.visibleWidth,s=r.timeToPixel(r.offset),o="translate("+s+", 0)";e.setAttributeNS(null,"height",n),e.setAttributeNS(null,"width",i),e.setAttributeNS(null,"viewbox","0 0 "+i+" "+n),t.setAttributeNS(null,"transform",o)}},{key:"updateLayers",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];t=null===t?this.layers:t,t.forEach(function(t){-1!==e.layers.indexOf(t)&&t.update()})}},{key:o,value:a.mark(function t(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(s(this.layers),"t0",1);case 1:case"end":return e.stop()}},t,this)})},{key:"height",get:function(){return this._height},set:function(e){this._height=e}}]),e}();r["default"]=h,t.exports=r["default"]},{"./namespace":121,"babel-runtime/core-js/get-iterator":11,"babel-runtime/core-js/symbol/iterator":23,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/interop-require-default":28,"babel-runtime/regenerator":114}],126:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("events"),u=a(l),c=function(e){function t(e){o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.el=e,this._bindEvents()}return i(t,e),s(t,[{key:"_createEvent",value:function(e,t){}},{key:"_bindEvents",value:function(){}}]),t}(u["default"].EventEmitter);r["default"]=c,t.exports=r["default"]},{"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/helpers/interop-require-default":28,events:137}],127:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("./event-source"),u=a(l),c=e("./wave-event"),h=a(c),f=function(e){function t(e){return o(this,t),t._instance?t._instance:(n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.sourceName="keyboard",void(t._instance=this))}return i(t,e),s(t,[{key:"_createEvent",value:function(e,t){var r=new h["default"](this.sourceName,e,t);return r.shiftKey=t.shiftKey,r.ctrlKey=t.ctrlKey,r.altKey=t.altKey,r.metaKey=t.metaKey,r["char"]=String.fromCharCode(t.keyCode),r}},{key:"_bindEvents",value:function(){var e=this,t=function(t){var r=e._createEvent("keydown",t);e.emit("event",r)},r=function(t){var r=e._createEvent("keyup",t);e.emit("event",r)};this.el.addEventListener("keydown",t,!1),this.el.addEventListener("keyup",r,!1)}}]),t}(u["default"]);r["default"]=f,t.exports=r["default"]},{"./event-source":126,"./wave-event":129,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/helpers/interop-require-default":28}],128:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("./event-source"),u=a(l),c=e("./wave-event"),h=a(c),f=(window.document.body,function(e){function t(e){o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.sourceName="surface",this.mouseDownEvent=null,this.lastEvent=null}return i(t,e),s(t,[{key:"_createEvent",value:function(e,t){var r=new h["default"](this.sourceName,e,t),n=this._getRelativePosition(t);return r.x=n.x,r.y=n.y,this.dx=null,this.dy=null,this.area=null,r}},{key:"_getRelativePosition",value:function(e){var t=0,r=0,n=this.el.getBoundingClientRect(),i=document.body.scrollLeft+document.documentElement.scrollLeft,s=document.body.scrollTop+document.documentElement.scrollTop;return e.pageX||e.pageY?(t=e.pageX,r=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+i,r=e.clientY+s),t-=n.left+i,r-=n.top+s,{x:t,y:r}}},{key:"_defineArea",value:function(e,t,r){if(t&&r){e.dx=e.x-r.x,e.dy=e.y-r.y;var n=t.x<e.x?t.x:e.x,i=t.y<e.y?t.y:e.y,s=Math.abs(Math.round(e.x-t.x)),o=Math.abs(Math.round(e.y-t.y));e.area={left:n,top:i,width:s,height:o}}}},{key:"_bindEvents",value:function(){var e=this,t=function(t){window.getSelection().removeAllRanges();var i=e._createEvent("mousedown",t);e.isMouseDown=!0,e.mouseDownEvent=i,e.lastEvent=i,window.addEventListener("mousemove",r,!1),window.addEventListener("mouseup",n,!1),e.emit("event",i)},r=function(t){var r=e._createEvent("mousemove",t);e._defineArea(r,e.mouseDownEvent,e.lastEvent),e.lastEvent=r,e.emit("event",r)},n=function o(t){var n=e._createEvent("mouseup",t);e._defineArea(n,e.mouseDownEvent,e.lastEvent),e.isMouseDown=!1,e.mouseDownEvent=null,e.lastEvent=null,window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",o),e.emit("event",n)},i=function(t){var r=e._createEvent("click",t);e.emit("event",r)},s=function(t){var r=e._createEvent("dblclick",t);e.emit("event",r)};this.el.addEventListener("mousedown",t,!1),this.el.addEventListener("click",i,!1),this.el.addEventListener("dblclick",s,!1)}}]),t}(u["default"]));r["default"]=f,t.exports=r["default"]},{"./event-source":126,"./wave-event":129,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/helpers/interop-require-default":28}],129:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(r,"__esModule",{value:!0});var i=function s(e,t,r){n(this,s),this.source=e,this.type=t,this.originalEvent=r,this.target=r.target,this.currentTarget=r.currentTarget};r["default"]=i,t.exports=r["default"]},{"babel-runtime/helpers/class-call-check":24}],130:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"],s=e("babel-runtime/core-js/object/assign")["default"],o=e("babel-runtime/core-js/object/keys")["default"],a=e("babel-runtime/core-js/object/define-property")["default"],l=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var u=e("../core/namespace"),c=l(u),h=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e),this.$el=null,this.ns=c["default"],this.params=s({},this._getDefaults(),t);var r=this._getAccessorList();this._createAccessors(r),this._setDefaultAccessors(r)}return n(e,[{key:"_getDefaults",value:function(){return{}}},{key:"destroy",value:function(){this.$el=null}},{key:"getClassName",value:function(){return"shape"}},{key:"_getAccessorList",value:function(){return{}}},{key:"install",value:function(e){for(var t in e)this[t]=e[t]}},{key:"_createAccessors",value:function(e){
this._accessors={};var t=Object.getPrototypeOf(this);o(e).forEach(function(e){t.hasOwnProperty(e)||a(t,e,{get:function(){return this._accessors[e]},set:function(t){this._accessors[e]=t}})})}},{key:"_setDefaultAccessors",value:function(e){var t=this;o(e).forEach(function(r){var n=e[r],i=function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return null===t?e[r]||n:void(e[r]=t)};t[r]=i})}},{key:"render",value:function(e){}},{key:"update",value:function(e,t){}},{key:"inArea",value:function(e,t,r,n,i,s){}}]),e}();r["default"]=h,t.exports=r["default"]},{"../core/namespace":121,"babel-runtime/core-js/object/assign":14,"babel-runtime/core-js/object/define-property":16,"babel-runtime/core-js/object/keys":18,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/interop-require-default":28}],131:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("./base-shape"),u=a(l),c=function(e){function t(){o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getClassName",value:function(){return"dot"}},{key:"_getAccessorList",value:function(){return{cx:0,cy:0,r:3,color:"#000000"}}},{key:"render",value:function(){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"circle"),this.$el)}},{key:"update",value:function(e,t){var r=e.timeToPixel(this.cx(t)),n=e.valueToPixel(this.cy(t)),i=this.r(t),s=this.color(t);this.$el.setAttributeNS(null,"transform","translate("+r+", "+n+")"),this.$el.setAttributeNS(null,"r",i),this.$el.style.fill=s}},{key:"inArea",value:function(e,t,r,n,i,s){var o=e.timeToPixel(this.cx(t)),a=e.valueToPixel(this.cy(t));return o>r&&i>o&&a>n&&s>a?!0:!1}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-shape":130,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/helpers/interop-require-default":28}],132:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("./base-shape"),u=a(l),c=function(e){function t(){o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getClassName",value:function(){return"line"}},{key:"_getAccessorList",value:function(){return{cx:0,cy:0}}},{key:"_getDefaults",value:function(){return{color:"#000000"}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"path"),this.$el)}},{key:"update",value:function(e,t){var r=this;t=t.slice(0),t.sort(function(e,t){return r.cx(e)<r.cx(t)?-1:1}),this.$el.setAttributeNS(null,"d",this._buildLine(e,t)),this.$el.style.stroke=this.params.color,this.$el.style.fill="none",t=null}},{key:"_buildLine",value:function(e,t){var r=this;if(!t.length)return"";var n=t.map(function(t,n){var i=e.timeToPixel(r.cx(t)),s=e.valueToPixel(r.cy(t));return i+","+s});return"M"+n.join("L")}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-shape":130,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/helpers/interop-require-default":28}],133:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/get")["default"],i=e("babel-runtime/helpers/inherits")["default"],s=e("babel-runtime/helpers/create-class")["default"],o=e("babel-runtime/helpers/class-call-check")["default"],a=e("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(r,"__esModule",{value:!0});var l=e("./base-shape"),u=a(l),c=function(e){function t(){o(this,t),n(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getClassName",value:function(){return"segment"}},{key:"_getAccessorList",value:function(){return{x:0,y:0,width:0,height:1,color:"#000000",opacity:1}}},{key:"_getDefaults",value:function(){return{displayHandlers:!0,handlerWidth:2,handlerOpacity:.8,opacity:.6}}},{key:"render",value:function(e){return this.$el?this.$el:(this.$el=document.createElementNS(this.ns,"g"),this.$segment=document.createElementNS(this.ns,"rect"),this.$segment.classList.add("segment"),this.$segment.style.opacity=this.params.opacity,this.$segment.setAttributeNS(null,"shape-rendering","crispEdges"),this.$el.appendChild(this.$segment),this.params.displayHandlers&&(this.$leftHandler=document.createElementNS(this.ns,"rect"),this.$leftHandler.classList.add("left","handler"),this.$leftHandler.setAttributeNS(null,"width",this.params.handlerWidth),this.$leftHandler.setAttributeNS(null,"shape-rendering","crispEdges"),this.$leftHandler.style.opacity=this.params.handlerOpacity,this.$leftHandler.style.cursor="ew-resize",this.$rightHandler=document.createElementNS(this.ns,"rect"),this.$rightHandler.classList.add("right","handler"),this.$rightHandler.setAttributeNS(null,"width",this.params.handlerWidth),this.$rightHandler.setAttributeNS(null,"shape-rendering","crispEdges"),this.$rightHandler.style.opacity=this.params.handlerOpacity,this.$rightHandler.style.cursor="ew-resize",this.$el.appendChild(this.$leftHandler),this.$el.appendChild(this.$rightHandler)),this.$el)}},{key:"update",value:function(e,t){var r=e.timeToPixel(this.x(t)),n=e.valueToPixel(this.y(t)),i=e.timeToPixel(this.width(t)),s=e.valueToPixel(this.height(t)),o=this.color(t),a=this.opacity(t);if(this.$el.setAttributeNS(null,"transform","translate("+r+", "+n+")"),this.$el.style.opacity=a,this.$segment.setAttributeNS(null,"width",Math.max(i,0)),this.$segment.setAttributeNS(null,"height",s),this.$segment.style.fill=o,this.params.displayHandlers){this.$leftHandler.setAttributeNS(null,"height",s),this.$leftHandler.setAttributeNS(null,"transform","translate(0, 0)"),this.$leftHandler.style.fill=o;var l="translate("+(i-this.params.handlerWidth)+", 0)";this.$rightHandler.setAttributeNS(null,"height",s),this.$rightHandler.setAttributeNS(null,"transform",l),this.$rightHandler.style.fill=o}}},{key:"inArea",value:function(e,t,r,n,i,s){var o=e.timeToPixel(this.x(t)),a=e.timeToPixel(this.x(t)+this.width(t)),l=e.valueToPixel(this.y(t)),u=e.valueToPixel(this.y(t)+this.height(t)),c=Math.max(0,Math.min(i,a)-Math.max(r,o)),h=Math.max(0,Math.min(s,u)-Math.max(n,l)),f=c*h;return f>0}}]),t}(u["default"]);r["default"]=c,t.exports=r["default"]},{"./base-shape":130,"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25,"babel-runtime/helpers/get":26,"babel-runtime/helpers/inherits":27,"babel-runtime/helpers/interop-require-default":28}],134:[function(e,t,r){"use strict";var n=e("babel-runtime/helpers/create-class")["default"],i=e("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(t){arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,e),this.timeline=t}return n(e,[{key:"enter",value:function(){}},{key:"exit",value:function(){}},{key:"handleEvent",value:function(e){}},{key:"tracks",get:function(){return this.timeline.tracks}},{key:"layers",get:function(){return this.timeline.tracks.layers}}]),e}();r["default"]=s,t.exports=r["default"]},{"babel-runtime/helpers/class-call-check":24,"babel-runtime/helpers/create-class":25}],135:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r["default"]={linear:function(){function e(){i=(n[1]-n[0])/(r[1]-r[0]),s=n[0]-i*r[0]}function t(e){return i*e+s}var r=[0,1],n=[0,1],i=1,s=0;return t.invert=function(e){return(e-s)/i},t.domain=function(){var n=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return null===n?r:(r=n,e(),t)},t.range=function(){var r=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return null===r?n:(n=r,e(),t)},t}},t.exports=r["default"]},{}],136:[function(e,t,r){t.exports={name:"waves-basic-controllers",version:"0.4.1",description:"basic-controllers for rapid prototyping",main:"waves-basic-controllers.js",standalone:"wavesBasicControllers",scripts:{transpile:"./bin/scripts --transpile",prebundle:"npm run hint && npm run transpile",bundle:"./bin/scripts --bundle",postbundle:"npm run uglify",uglify:"./bin/scripts --uglify",watch:"./bin/scripts --watch",test:"tac6",pretest:"npm run hint",hint:"jshint ./es6; true",pretag:"branch=$(git symbolic-ref -q HEAD); if [ $branch != 'refs/heads/master' ]; then echo '=> You must be in master branch to run this command'; exit 1; fi && npm run bundle && git commit -am 'rebundled'",tag:"npm version $1",posttag:"git push origin master && git push origin --tags"},license:"BSD-3",repository:{type:"git",url:"https://github.com/wavesjs/basic-controllers.git"},jshintConfig:{esnext:!0,browser:!0,node:!0,devel:!0},dependencies:{"babel-runtime":"^5.4.4","waves-ui":"git://github.com/wavesjs/ui"},devDependencies:{"fs-extra":"^0.16.3",jshint:"^2.6.0","node-watch":"^0.3.4","uglify-js":"^2.4.16"}}},{}],137:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function s(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!s(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],a(r))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,s=new Array(n-1),l=1;n>l;l++)s[l-1]=arguments[l];r.apply(this,s)}else if(o(r)){for(n=arguments.length,s=new Array(n-1),l=1;n>l;l++)s[l-1]=arguments[l];for(u=r.slice(),n=u.length,l=0;n>l;l++)u[l].apply(this,s)}return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var r;r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var n=!1;return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,t){var r,n,s,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],s=r.length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(a=s;a-->0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(0>n)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],i(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var r;return r=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],138:[function(e,t,r){function n(){c=!1,a.length?u=a.concat(u):h=-1,u.length&&i()}function i(){if(!c){var e=setTimeout(n);c=!0;for(var t=u.length;t;){for(a=u,u=[];++h<t;)a[h].run();h=-1,t=u.length}a=null,c=!1,clearTimeout(e)}}function s(e,t){this.fun=e,this.array=t}function o(){}var a,l=t.exports={},u=[],c=!1,h=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new s(e,t)),c||setTimeout(i,0)},s.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=o,l.addListener=o,l.once=o,l.off=o,l.removeListener=o,l.removeAllListeners=o,l.emit=o,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}]},{},[1])(1)});